<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="com.bbva.scorating.domain.PerfilAccion" table="PERFILACCION" schema="REPQIS">
    
        <composite-id name="perfilAccionId" class="com.bbva.scorating.domain.PerfilAccionId">
			<key-property name="idPerfil" column="IDPERFIL" />
			<key-property name="idOpcion" column="IDOPCION" />
			<key-property name="idAccion" column="IDACCION" />
		</composite-id>
     
         <property name="estado" type="char">
            <column name="ESTADO" length="1" not-null="true" />
        </property>
       
    </class>
    
    <!-- 
	<query name="listar">
	    <![CDATA[
	        SELECT p FROM Parametro p
	        	JOIN FETCH p.parametro pp
	        	JOIN FETCH p.parametroTipo pt
	        WHERE (:idPadre <> -1 OR pp.id = :idPadre)
	          AND (:idTipo <> -1 OR p.tipo = :idTipo)
	          AND (:idEstado <> "-1" OR p.estado = :idEstado)
			  AND (p.nombre LIKE :nombre)
			ORDER BY p.id
	    ]]>
    </query>
     -->
</hibernate-mapping>